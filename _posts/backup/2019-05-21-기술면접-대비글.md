---
title: "[기술면접] CI/CD , 아키텍쳐"
author: Push's tone
layout: post
date: 2019-05-20 05:25:28
categories: Computer Science
---



##1. 아키텍쳐

### 배포 자동화 과정에 대해 설명하시오.

CI, CD는 각각 지속적인 통합(Continuous Integration), (지속적인 배포)Countinuous Deployment를 의미한다. CI/CD대해 통합적인 흐름을 GIthub, Jenkins를 기준으로 설명하도록 하겠습니다. 

로컬에서 github의 특정브런치에 push를 날릴경우, 깃허브에서 등록된 Jenkins 컨테이너/클라우드/서버 로 Notification을 보냅니다. 

이 Noti를 받은 Jenkins는 해당 브런치를 pull받고, 빌드 스크립트대로 빌드를 실행해 테스트/ 빌드 과정을 거칩니다. 

이후 after build로 설정한 프로세스가 동작합니다. 빌드된 파일이 무사히 빌드된게 확인되면, 슬랙 등의 협업 메신저로 Notification을 보내거나, 설정된 배포서버로 ssh/ ftp로 Jar/War파일을 전송합니다. 이후 설정한 스크립트대로 해당 파일을 Jar/War파일을 실행 할 수 있습니다.

추가적으로 배포환경에서 에러발생시 빠른 롤백, 소비자가 배포가 진행중인 시점에서 서비스를 계속적으로 이용 할 수 있도록 하기위해 Nginx와 같은 Reverse proxy Server를 사용해서 (blue-green배포)무중단 배포를 지원할 수 있습니다. 이때 배포 스크립트에 해당 무중단 배포를 위해 nginx를 설정하는 내용이 추가되어야 합니다.

<br>

###연관질문 1. Reverse proxy server vs Forward proxy server?

순방향 프록시는 내부망에서 외부로 접속할때 먼저 Proxy에 거쳐서 인터넷에 연결되는 방식입니다. 설정한 프록시 서버에서 패킷에 대한 보안정책을 적용할 수 있어 보안에 유리하고, 캐싱을 통해 외부 정보를 저장해 빠른통신을 지원합니다.

역방향 프록시 :  외부에서 내부 서버로 들어올때 proxy서버를 거쳐서 들어오는 방식. 프록시 서버가 실제 컨텐츠 서버로 보여 보안에 유리합니다. 외부에서 내부 네트워크 안에 존재하는 실제 서버의 존재여부를 알 수 없기 때문입니다. Proxy시 서버를 통해 내부 정보를 가지고 로드 밸런싱을 수행 가능합니다. 구현방법은 nginx기준으로 URI의 path별로 타겟 서버를 지정해 주면 됩니다.

<br>

###연관질문 2. FTP vs SSH

둘다 TCP/IP 계층에서 실행되는 네트워크 프로토콜입니다. SSH는 Secure Shell Protocal의 약자로 공개키 암호화를 사용합니다. 반면 FTP는 암호화 되지않고 텍스트 형태로 파일을 전달합니다. 또 내부 네트워크에 있는 단말에 접속할때 방화벽등에 더 관대하게 취급받아 유리함.



<br>

###연관질문 3. CI, CD 각각은 어떤의미?

 CI는 코드 병합을 위해 따로 시간을 소모하지 않도록, 프로덕션 환경으로 배포할 준비가 된 Jar/War파일을 확보해 두는것을 말합니다. 이를 위해 git-flow or flow를 통한 브런치관리를 하고, 통합, 테스트 수행, 빌드 과정을 자동화하여 배포가능한 파일을 준비합니다.





##2. 자바기본 : 

###Java Gc를 JVM과 연관시켜 설명하시오

###디자인패턴 - Spring 내부에서 쓰이는건 기본적으로 정리





## 3. 네트워크 기본

###7계층등 기본공부

###프로토콜

###브라우저에서  uri를 입력하면 무슨일이 일어나는지 아는대로설명하시오



## 4. DB, 운영체제 기본

###db기본 개념 읽기

###database의 인덱스와 구현방식에 대해 설명하시오. 또한 이를 이용하여 지도 좌표데이터 검색 성능을 높이는 방법을 설명하시오

인덱스는 색인을 따로 파일로 저장해서, 검색시에 해당 테이블을 모두 scan하는 것이 아니라, index가 있는 파일을 검색해 검색속도를 높입니다. 또한 이 인덱스는 Tree구조로, 특히 RDBMS는 BST를 사용합니다. 실제로는 B-Tree에서 파생된 B+Tree를 사용합니다.

Index를 해당 칼럼에 주면, MYD, MYI, FRM 세 파일중 MYI에 해당 칼럼을 색인화 하여 저장합니다. 또한 테이블의 기본 키는 자동으로 인덱스(색인) 됩니다. 인덱스로 search시에 해당 테이블이 아닌 TREE로 정리해준 MYI파일의 내용을 검색합니다.

또한 Spring DATA JPA기준으로 Entity클래스의 TABLE 어노테이션에 정보를 추가함으로써, 지도 좌표에 대한 내용을 다중필드 인덱스로 등록하여 Key Range로 검색하면 더 빠른 Search 성능을 보장 가능.



참조 : [성능 향상을 위한 SQL 작성법](<https://d2.naver.com/helloworld/1155>)



#### 연관질문 1 : BST에 대해 설명하고 슈도코드로 구현하시오, 또한 B+Tree에 대해 설명하시오

이진트리검색에서 좌우균형에 따라 생기는 비효율을 해소하기위해 만든트리, (정렬된 순서로 입력하면 한쪽으로 치우침, 성능이 트리의 높이와 관계되는데. 어느경로로 가든 트리높이가 같도록 해주면 = 전체 트리높이가 낮아짐)



B-Tree : 하나의 노드에 여러 자료가 배치되는 트리구조, 노드에 들어갈 수 있는 자료의 수가 홀수냐 짝수냐에 따라 구현이 달라짐. 삽입과 삭제시 구조가 깨지면 balance작업을 진행함. root의 자식은 없거나 2개 이상이고, 자식노드의 수는 부모노드의 데이터 수보다 1개 많아야 하는등의 조건이 있습니다. 하지만 트리의 높이가 균형을 이루기때문에 탐색속도가 빨라짐



B+Tree: Btree에서 형제들을 LinkedList로 연결해서 탐색시 부모를 방문할 필요없이 가로로 탐색하면 되도록 구현해서 탐색속도가 더 빠름.



참조 : [B-Tree 개념 정리](<https://hyungjoon6876.github.io/jlog/2018/07/20/btree.html>) [B-tree 동영상](<https://www.youtube.com/watch?v=Y11hGrKbilU>)



#### 연관질문 2 : 인덱스로 만들면 장점만 있나요?

Index는 RDBMS의 SELECT = 검색속도를 향상하는 목적으로,

CUD에는 성능이 느려짐. Insert는 index split현상이 일어나고, DELETE경우, 인덱스 데이터는 삭제하지않고 사용안함 표시만 해서 공간낭비, update시 인덱스에서는 delete발생후, 새로운 작업의 insert가 발생함 다른 명령보다 큰 부하가 발생합니다.











###DBMS , ORM 



###동기화, locking기법 슈도코딩

###메모리 및 캐싱



## 5. 정렬, 자료구조 기본

###모든 정렬에 대한 슈도코딩, 장단점

###자료구조에 대한 슈도코딩



##6. Spring

###spring mvc동작원리.

###각 어노테이션의 의미 및 차이점

